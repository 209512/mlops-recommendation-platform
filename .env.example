# Database Configuration
DATABASE_URL="postgresql://postgres:${POSTGRES_PASSWORD}@db:5432/mlops"
DB_HOST=db
DB_PORT=5432
DB_NAME=mlops
DB_USER=postgres
POSTGRES_PASSWORD=secure_password_change_in_production

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL="redis://redis:6379/0"

# ALS Model Configuration
ALS_MODEL_VERSION=v1
ALS_FACTORS=50
ALS_REGULARIZATION=0.1
ALS_ITERATIONS=15
ALS_CALCULATE_TRAINING_LOSS=false
ALS_HALF_LIFE_DAYS=7.0
ALS_TIME_DECAY_ENABLED=true
ALS_SEARCH_LOG_DAYS_LIMIT=30
ALS_REVIEW_RATING_MULTIPLIER=0.15
ALS_CATEGORY_MATCH_BONUS=0.1
ALS_SCORE_POWER_DECAY=0.8
ALS_NORMALIZE_ALS_SCORE=true
ALS_LECTURE_CATEGORY_MAP_TIMEOUT=3600
ALS_DEFAULT_RECOMMENDATION_COUNT=10
ALS_LOCK_TIMEOUT_SECONDS=300

# ALS Interaction Weights (JSON format)
ALS_USER_INTERACTION_WEIGHTS={"bookmark": 3.0, "search": 1.0, "study_participation": 2.0}
ALS_ITEM_FEATURE_WEIGHTS={"category_match": 2.5, "review_rating": 1.5}

# Legacy (keep for backward compatibility)
MODEL_STORAGE_PATH=./models

# MLflow Configuration
MLFLOW_TRACKING_URI=http://mlflow:5001
MLFLOW_EXPERIMENT_NAME=als_recommendation
MLFLOW_BACKEND_STORE_URI="postgresql://postgres:${POSTGRES_PASSWORD}@db:5432/mlflow"
MLFLOW_DEFAULT_ARTIFACT_ROOT=./mlruns

# FastAPI Configuration
SECRET_KEY=your-secret-key-here-change-in-production
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE
CORS_ALLOW_HEADERS=Content-Type,Authorization

# Celery Configuration
CELERY_BROKER_URL="redis://redis:6379/0"
CELERY_RESULT_BACKEND="redis://redis:6379/0"

# Monitoring Configuration
PROMETHEUS_PORT=8001
GRAFANA_PORT=3000

# AWS Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=ap-northeast-2
ECR_REGISTRY=your-account.dkr.ecr.ap-northeast-2.amazonaws.com

# SonarQube Configuration
SONAR_HOST_URL=http://localhost:9000
SONAR_TOKEN=your-sonar-token

# Environment
ENVIRONMENT=local

# Security Configuration
MIN_SECRET_KEY_LENGTH=32
DEFAULT_SESSION_TIMEOUT=30
DEFAULT_LOGIN_ATTEMPTS=5
DEFAULT_LOCKOUT_DURATION=15

# Production Security Settings
PRODUCTION_SESSION_TIMEOUT=15
PRODUCTION_MAX_LOGIN_ATTEMPTS=3
PRODUCTION_LOCKOUT_DURATION=30

# Test Security Settings
TEST_SESSION_TIMEOUT=120
TEST_MAX_LOGIN_ATTEMPTS=100
TEST_LOCKOUT_DURATION=1

# Encryption Settings
ENCRYPTION_KEY_FILE=./encryption.key
KEY_ROTATION_ENABLED=false
KEY_ROTATION_DAYS=90
KEY_BACKUP_ENABLED=false
KEY_BACKUP_PATH=./backups